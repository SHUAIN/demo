<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // let nums1 = [4, 9, 5],
        //     nums2 = [9, 4, 9, 8, 4];
        // let nums1 = [1, 2],
        //     nums2 = [2, 1];
        let nums1 = [3, 1, 2],
            nums2 = [1, 1];
        let demo = function (nums1, nums2) {
            let obj = {},
                newArr = [];
            for (let i = 0; i < nums1.length; i++) {
                if (obj[nums1[i]] == undefined) {
                    obj[nums1[i]] = 1;
                } else {
                    obj[nums1[i]]++;
                }
            }
            for (let i = 0; i < nums2.length; i++) {
                if (obj[nums2[i]]) {
                    if (obj[nums2[i]] > 0) {
                        newArr.push(nums2[i]);
                        obj[nums2[i]]--;
                    }
                }
            }
            return newArr;
        }
        let intersect = (nums1, nums2) => {
            let obj = {},
                newArr = [],
                index = 0;
            let maxLen = nums1.length > nums2.length ? nums1.length : nums2.length;
            let minLen = nums1.length > nums2.length ? nums2.length : nums1.length;
            let one = nums1.length > nums2.length ? nums1 : nums2;
            let two = nums1.length > nums2.length ? nums2 : nums1;
            let save = function (arr, len, obj) {
                for (let i = 0; i < len; i++) {
                    if (obj[arr[i]] == undefined) {
                        obj[arr[i]] = 1;
                    } else {
                        obj[arr[i]]++;
                    }
                }
            }
            save(one, maxLen, obj);
            for (let i = 0; i < minLen; i++) {
                if (obj[two[i]]) {
                    if (obj[two[i]] > 0) {
                        newArr.push(two[i]);
                        obj[two[i]]--;
                    }
                }
            }
            console.log(obj);

            return newArr;
        }
        let res = demo(nums1, nums2);
        console.log(res);
    </script>
</body>

</html>