<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>红黑树</title>
</head>

<body>
    <h1>红黑树概念</h1>
    <p>1.为了解决二叉搜索树出现非平衡树的情况而出现的优化方案；</p>
    <p>2.当插入一个节点使树不平衡时，通过三种方式让树保持平衡；这个平衡后的树叫做红黑树</p>
    <h1>红黑树特点</h1>
    <ol>
        <li>满足二叉搜索树的所有特征</li>
        <li>节点是红色或者黑色</li>
        <li>根节点是黑色</li>
        <li>每个叶子节点都是黑色的null节点
            <p style="color: red">可以理解成当一个节点没有子节点时我们用null节点给他补齐</p>
        </li>
        <li>每个红色的节点的两个子节点都是黑色
            <p style="color: red">注:从每个叶子节点到根节点的路径上不能有两个连续的红色节点</p>
        </li>
        <li>从任意节点开始到其每个叶子节点的所有路径都包含相同数目的黑色节点</li>
    </ol>
    <h1>红黑树的相对平衡</h1>
    <ol>
        <li>从根节点到叶子节点的最长可能路径，不会超过最短可能路径的两倍长
            <ul style="color: red">
                <li>特点5决定了不可能有2个相连的红色节点</li>
                <li>最短路径可能全部都是黑色节点(根节点没有子节点的情况，补全两个null节点)</li>
                <li>最长的可能路径只可能是红黑交替</li>
                <li>特点6表明了所有路径都有相同数目的黑色节点</li>
                <li>这就表明了没有路径能多余任何其他路径的2倍长</li>
                <li>注：首先每次插入新节点的颜色都是红色</li>
            </ul>
        </li>
        <li>
            结果就是这个数基本是平衡的
        </li>
        <li>
            虽然不可能完全平衡，但是可以保证在极端的情况下，效率依旧相对比链表高
        </li>
    </ol>
    <h1>红黑树变化规则
    </h1>
    <ol>
        <li>
            变色
            <p style="color: red">定义：为了重新符合红黑树的规则，尝试把节点在黑红两色之间变换</p>
        </li>
        <li>
            左旋转
            <p style="color: red">定义：逆时针旋转红黑树的2个节点，使得父节点被自己的右子节点取代，自己成为自己的左子节点</p>
        </li>
        <li>
            <p style="color:red">和左旋转相反</p>
        </li>
        <li>左旋转</li>
        <li>右旋转</li>
    </ol>
    <h1>插入操作</h1>
    <p>
        插入节点为N；父节点为p；祖父节点为G；其父亲兄弟节点为U
        <br>
        插入时根据情况判断：
        <h3>
            情况1:新节点N位于树的根上时，没有父节点；直接将红色节点变成黑色节点即可
            <br>
            情况2:新节点父节点为黑色；性质4没有失效，性质5也没问题；新节点不变，还是红色
            <br>
            情况3:当p和u都是红色节点的时候；将pu变成黑色，g变成红色
            <br>
            情况4:N的父节点是红色，叔叔节点是黑，祖父节点是黑色，然后N是左子节点时：
            先把父节点变黑，在把祖父节点变红，再以插入节点的g节点为root节点右旋转；
            <br>
            情况5:N的父亲节点是红色，叔叔节点是黑色，然后N是右子节点时：
            先以p节点为根节点进行左旋转，然后将p节点作为新插入节点来考虑(这时情况就是情况4)
        </h3>
    </p>
</body>

</html>